import{r,A as j,u as g,j as e,C as f,R as v,a as C,B as N,L as b}from"./index-CY5RqpeY.js";import{P as A,L as w}from"./AuthCommon-cStCC86m.js";import{A as y}from"./Alert-BTLZx-9d.js";import{F as n}from"./Form-Ym7nrSmI.js";const I=()=>{const[c,m]=r.useState(""),[d,u]=r.useState(""),[l,t]=r.useState(""),{login:x,logout:p,user:o}=r.useContext(j),i=g();r.useEffect(()=>{o&&o.role==="admin"&&i("/administracion/dashboard")},[o,i]);const h=async s=>{s.preventDefault(),t("");try{const a=await x(c,d);a&&a.role==="admin"?i("/administracion/dashboard"):a?(await p(),t("Acceso denegado: Solo administradores pueden ingresar aquí.")):t("Credenciales inválidas para administrador.")}catch(a){t(a.message||"Error al intentar iniciar sesión como administrador.")}};return e.jsx("div",{className:"wrapper",children:e.jsx(f,{children:e.jsx(v,{className:"justify-content-md-center",children:e.jsx(C,{md:6,lg:4,children:e.jsxs("div",{className:"login-form-container",children:[e.jsx("h1",{className:"text-center mb-4",children:"Acceso de Administrador"}),l&&e.jsx(y,{variant:"danger",children:l}),e.jsxs(n,{onSubmit:h,children:[e.jsxs(n.Group,{className:"mb-3 input-box",controlId:"formBasicUsername",children:[e.jsx(n.Control,{type:"text",placeholder:"Usuario Administrador",value:c,onChange:s=>m(s.target.value),required:!0}),e.jsx(A,{className:"icon"})]}),e.jsxs(n.Group,{className:"mb-3 input-box",controlId:"formBasicPassword",children:[e.jsx(n.Control,{type:"password",placeholder:"Contraseña",value:d,onChange:s=>u(s.target.value),required:!0}),e.jsx(w,{className:"icon"})]}),e.jsx(N,{variant:"primary",type:"submit",className:"w-100",children:"Ingresar como Administrador"}),e.jsx("div",{className:"login-link mt-3 text-center",children:e.jsx("p",{children:e.jsx(b,{to:"/",children:"Volver a la página principal"})})})]})]})})})})})};export{I as default};
