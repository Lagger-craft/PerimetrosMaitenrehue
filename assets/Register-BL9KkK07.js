import{r as t,u as j,j as e,C as f,R as v,a as N,B as w,L as y}from"./index-pPcwbg4D.js";import{P as b,L as C}from"./AuthCommon-7EYQAxja.js";import{A as m}from"./Alert-Bt7y9ijl.js";import{F as a}from"./Form-BIQSXMxt.js";const k=()=>{const[n,u]=t.useState(""),[o,p]=t.useState(""),[i,c]=t.useState(""),[l,d]=t.useState(""),h=j(),x=async s=>{s.preventDefault(),d(""),c("");try{const r=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:o})}),g=await r.json();if(!r.ok)throw new Error(g.message||"Error al registrar el usuario");c("¡Usuario registrado con éxito! Redirigiendo a la página de inicio de sesión..."),setTimeout(()=>{h("/login")},2e3)}catch(r){d(r.message)}};return e.jsx("div",{className:"wrapper",children:e.jsx(f,{children:e.jsx(v,{className:"justify-content-md-center",children:e.jsx(N,{md:6,lg:4,children:e.jsxs("div",{className:"login-form-container",children:[e.jsx("h1",{className:"text-center mb-4",children:"Registro"}),l&&e.jsx(m,{variant:"danger",children:l}),i&&e.jsx(m,{variant:"success",children:i}),e.jsxs(a,{onSubmit:x,children:[e.jsxs(a.Group,{className:"mb-3 input-box",controlId:"formBasicUsername",children:[e.jsx(a.Control,{type:"text",placeholder:"Usuario",value:n,onChange:s=>u(s.target.value),required:!0}),e.jsx(b,{className:"icon"})]}),e.jsxs(a.Group,{className:"mb-3 input-box",controlId:"formBasicPassword",children:[e.jsx(a.Control,{type:"password",placeholder:"Contraseña",value:o,onChange:s=>p(s.target.value),required:!0}),e.jsx(C,{className:"icon"})]}),e.jsx(w,{variant:"primary",type:"submit",className:"w-100 mt-3",children:"Registrarse"}),e.jsx("div",{className:"login-link mt-3 text-center",children:e.jsxs("p",{children:["¿Ya tienes una cuenta? ",e.jsx(y,{to:"/login",children:"Inicia Sesión"})]})})]})]})})})})})};export{k as default};
