import{r as t,u as j,j as e,C as N,R as f,a as v,B as w,L as b,b as y}from"./index-CY5RqpeY.js";import{P as S,L as C}from"./AuthCommon-cStCC86m.js";import{A as m}from"./Alert-BTLZx-9d.js";import{F as a}from"./Form-Ym7nrSmI.js";const k=()=>{const[n,u]=t.useState(""),[o,x]=t.useState(""),[i,c]=t.useState(""),[l,d]=t.useState(""),p=j(),h=async s=>{s.preventDefault(),d(""),c("");try{const r=await fetch(y.auth.register,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:o})}),g=await r.json();if(!r.ok)throw new Error(g.message||"Error al registrar el usuario");c("¡Usuario registrado con éxito! Redirigiendo a la página de inicio de sesión..."),setTimeout(()=>{p("/login")},2e3)}catch(r){d(r.message)}};return e.jsx("div",{className:"wrapper",children:e.jsx(N,{children:e.jsx(f,{className:"justify-content-md-center",children:e.jsx(v,{md:6,lg:4,children:e.jsxs("div",{className:"login-form-container",children:[e.jsx("h1",{className:"text-center mb-4",children:"Registro"}),l&&e.jsx(m,{variant:"danger",children:l}),i&&e.jsx(m,{variant:"success",children:i}),e.jsxs(a,{onSubmit:h,children:[e.jsxs(a.Group,{className:"mb-3 input-box",controlId:"formBasicUsername",children:[e.jsx(a.Control,{type:"text",placeholder:"Usuario",value:n,onChange:s=>u(s.target.value),required:!0}),e.jsx(S,{className:"icon"})]}),e.jsxs(a.Group,{className:"mb-3 input-box",controlId:"formBasicPassword",children:[e.jsx(a.Control,{type:"password",placeholder:"Contraseña",value:o,onChange:s=>x(s.target.value),required:!0}),e.jsx(C,{className:"icon"})]}),e.jsx(w,{variant:"primary",type:"submit",className:"w-100 mt-3",children:"Registrarse"}),e.jsx("div",{className:"login-link mt-3 text-center",children:e.jsxs("p",{children:["¿Ya tienes una cuenta? ",e.jsx(b,{to:"/login",children:"Inicia Sesión"})]})})]})]})})})})})};export{k as default};
