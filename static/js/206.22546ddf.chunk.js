"use strict";(self.webpackChunkcercovibrados_web=self.webpackChunkcercovibrados_web||[]).push([[206],{4978:(e,a,r)=>{r.r(a),r.d(a,{default:()=>j});var n=r(2555),o=r(5043),l=r(3519),s=r(1072),t=r(8602),c=r(8628),i=r(1719),d=r(3814),m=r(4282);const h=r.p+"static/media/cerco_stock.15d1256685b36afe6e92.webp";var u=r(1229),p=r(579);const x={"1.50m":["2 Placas de 50cm de alto","1 Placa de 30cm de alto","1 Barda (10cm de altura efectiva)"],"1.90m":["3 Placas de 50cm de alto","1 Placa de 30cm de alto","1 Barda (10cm de altura efectiva)"],"2.20m":["\ud83d\udea7 Proximamente"],Otra:["Componentes para altura personalizada: Por favor, consulta con un asesor."]},j=()=>{const[e,a]=(0,o.useState)({name:"",rut:"",phone:"",address:"",email:"",fenceHeight:"1.90m",fenceType:"Cerco Vibrado Est\xe1ndar",linearMeters:"",message:""}),[r,j]=(0,o.useState)(!1),[g,A]=(0,o.useState)(null),[f,v]=(0,o.useState)(null),[b,C]=(0,o.useState)(null),[y,N]=(0,o.useState)(x[e.fenceHeight]);(0,o.useEffect)(()=>{x[e.fenceHeight]&&N(x[e.fenceHeight])},[e.fenceHeight]);const P=e=>{const{name:r,value:o}=e.target;let l=o;if("rut"===r){const e=o.replace(/[^0-9kK]/g,"");l=(e=>{let a=e.replace(/[^0-9kK]/g,"");a.length>9&&(a=a.slice(0,9)),a=a.toUpperCase();let r="";for(a.length>1&&(r=a.slice(-1),a=a.slice(0,-1));a.length>3;)r="."+a.slice(-3)+r,a=a.slice(0,-3);return a.length>0&&(r=a+r),r.length>0&&!r.includes("-")&&(r=r.slice(0,-1)+"-"+r.slice(-1)),r})(o),e.length>=7?(e=>{if(!/^[0-9]+[kK0-9]$/.test(e))return!1;const a=e.slice(0,-1);let r=e.slice(-1).toUpperCase(),n=0,o=2;for(let s=a.length-1;s>=0;s--)n+=parseInt(a[s],10)*o,o++,o>7&&(o=2);let l=11-n%11;return l=11===l?"0":10===l?"K":String(l),l===r})(e)?C(null):C("El RUT ingresado no es v\xe1lido."):C(null)}a(e=>{const a=(0,n.A)((0,n.A)({},e),{},{[r]:l});return"fenceHeight"===r&&(a.fenceType="Otra"===o?"Cerco Vibrado Personalizado":"Cerco Vibrado ".concat(o),N(x[o]?x[o]:[])),a})};return(0,p.jsx)("section",{className:"quote-page-section",children:(0,p.jsxs)(l.A,{children:[(0,p.jsx)(s.A,{className:"justify-content-center",children:(0,p.jsx)(t.A,{md:8,children:(0,p.jsx)(c.A,{className:"quote-card",children:(0,p.jsxs)(c.A.Body,{children:[(0,p.jsx)("h2",{className:"text-center mb-4",children:"Solicita tu Cotizaci\xf3n"}),(0,p.jsx)("p",{className:"text-center text-muted mb-4",children:"Completa el formulario y te enviaremos una cotizaci\xf3n detallada a la brevedad."}),f&&(0,p.jsx)(i.A,{variant:"success",children:f}),g&&(0,p.jsx)(i.A,{variant:"danger",children:g}),(0,p.jsxs)(d.A,{noValidate:!0,validated:r,onSubmit:async r=>{const n=r.currentTarget;if(r.preventDefault(),r.stopPropagation(),b)return j(!0),void A("Por favor, corrige el RUT antes de enviar.");if(!1===n.checkValidity())return j(!0),void A("Por favor, completa todos los campos obligatorios.");v(null),A(null),j(!1);try{const r=await fetch("http://localhost:5000/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Error al enviar la cotizaci\xf3n");v("\xa1Cotizaci\xf3n enviada exitosamente! Nos pondremos en contacto contigo pronto."),a({name:"",rut:"",phone:"",address:"",email:"",fenceHeight:"1.50m",fenceType:"Cerco Vibrado Est\xe1ndar",linearMeters:"",message:""}),j(!1)}catch(g){A(g.message)}},children:[(0,p.jsxs)(s.A,{children:[(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formName",children:[(0,p.jsx)(d.A.Label,{children:"Nombre Completo"}),(0,p.jsx)(d.A.Control,{type:"text",name:"name",value:e.name,onChange:P,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu nombre completo."})]})}),(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formRut",children:[(0,p.jsx)(d.A.Label,{children:"RUT"}),(0,p.jsx)(d.A.Control,{type:"text",name:"rut",value:e.rut,onChange:P,required:!0,isInvalid:!!b}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:b||"Por favor, ingresa un RUT v\xe1lido (ej. 12.345.678-9)."})]})})]}),(0,p.jsxs)(s.A,{children:[(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formPhone",children:[(0,p.jsx)(d.A.Label,{children:"N\xfamero de Tel\xe9fono"}),(0,p.jsx)(d.A.Control,{type:"tel",name:"phone",value:e.phone,onChange:P,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu n\xfamero de tel\xe9fono."})]})}),(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formEmail",children:[(0,p.jsx)(d.A.Label,{children:"Correo Electr\xf3nico"}),(0,p.jsx)(d.A.Control,{type:"email",name:"email",value:e.email,onChange:P,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa un correo electr\xf3nico v\xe1lido."})]})})]}),(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formAddress",children:[(0,p.jsx)(d.A.Label,{children:"Direcci\xf3n / Comuna"}),(0,p.jsx)(d.A.Control,{type:"text",name:"address",value:e.address,onChange:P,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu direcci\xf3n o comuna."})]}),(0,p.jsxs)(s.A,{children:[(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formFenceHeight",children:[(0,p.jsx)(d.A.Label,{children:"Altura del Cerco"}),(0,p.jsxs)(d.A.Select,{name:"fenceHeight",value:e.fenceHeight,onChange:P,required:!0,children:[(0,p.jsx)("option",{value:"",children:"Selecciona una altura"}),(0,p.jsx)("option",{children:"1.50m"}),(0,p.jsx)("option",{children:"1.90m"}),(0,p.jsx)("option",{children:"2.20m"}),(0,p.jsx)("option",{children:"Otra"})]}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, selecciona la altura del cerco."})]})}),(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formLinearMeters",children:[(0,p.jsx)(d.A.Label,{children:"Metros Lineales (aprox.)"}),(0,p.jsx)(d.A.Control,{type:"number",name:"linearMeters",value:e.linearMeters,onChange:P,required:!0,min:"1"}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa los metros lineales."})]})})]}),(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formMessage",children:[(0,p.jsx)(d.A.Label,{children:"Mensaje Adicional"}),(0,p.jsx)(d.A.Control,{as:"textarea",name:"message",rows:4,value:e.message,onChange:P,placeholder:"Ind\xedcanos cualquier detalle importante para tu proyecto."})]}),e.fenceHeight&&y.length>0&&(0,p.jsx)(c.A,{className:"mb-3 components-card",children:(0,p.jsxs)(c.A.Body,{children:[(0,p.jsxs)(c.A.Title,{children:["Componentes para ",e.fenceHeight]}),(0,p.jsx)("ul",{children:y.map((e,a)=>(0,p.jsx)("li",{children:e},a))})]})}),(0,p.jsx)("div",{className:"d-grid",children:(0,p.jsx)(m.A,{variant:"primary",type:"submit",size:"lg",children:"Enviar Cotizaci\xf3n"})})]})]})})})}),(0,p.jsx)(s.A,{className:"justify-content-center mt-5",children:(0,p.jsx)(t.A,{md:8,children:(0,p.jsx)("img",{src:(k=e.fenceHeight,"1.90m"===k?u:h),alt:"Cerco de referencia",className:"img-fluid rounded shadow-lg"})})})]})});var k}}}]);
//# sourceMappingURL=206.22546ddf.chunk.js.map