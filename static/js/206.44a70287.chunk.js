"use strict";(self.webpackChunkcercovibrados_web=self.webpackChunkcercovibrados_web||[]).push([[206],{4978:(e,r,a)=>{a.r(r),a.d(r,{default:()=>j});var n=a(2555),o=a(5043),s=a(3519),l=a(1072),t=a(8602),c=a(8628),i=a(1719),d=a(3814),m=a(4282);const h=a.p+"static/media/cerco_stock.15d1256685b36afe6e92.webp";var u=a(1229),x=a(5422),p=a(579);const j=()=>{const[e,r]=(0,o.useState)({name:"",rut:"",phone:"",address:"",email:"",fenceHeight:"1.50m",fenceType:"Cerco Vibrado Est\xe1ndar",linearMeters:"",message:""}),[a,j]=(0,o.useState)(null),[A,g]=(0,o.useState)(null),[b,f]=(0,o.useState)(!1),v=e=>{const{name:a,value:o}=e.target;let s=o;"rut"===a&&(s=(e=>{let r=e.replace(/[^0-9kK]/g,"");r=r.toUpperCase();let a="";for(r.length>1&&(a=r.slice(-1),r=r.slice(0,-1));r.length>3;)a="."+r.slice(-3)+a,r=r.slice(0,-3);return r.length>0&&(a=r+a),a.length>0&&e.includes("-")&&(a=a.replace(/\.(?=[0-9]{3}-)/g,""),a=a.replace(/-(?=[0-9]{3})/g,"")),a.length>0&&!a.includes("-")&&(a=a.slice(0,-1)+"-"+a.slice(-1)),a})(o)),r(e=>{const r=(0,n.A)((0,n.A)({},e),{},{[a]:s});return"fenceHeight"===a&&(r.fenceType="Otra"===o?"Cerco Vibrado Personalizado":"Cerco Vibrado ".concat(o)),r})};return(0,p.jsx)("section",{className:"quote-page-section",children:(0,p.jsxs)(s.A,{children:[(0,p.jsx)(l.A,{className:"justify-content-center",children:(0,p.jsx)(t.A,{md:8,children:(0,p.jsx)(c.A,{className:"quote-card",children:(0,p.jsxs)(c.A.Body,{children:[(0,p.jsx)("h2",{className:"text-center mb-4",children:"Solicita tu Cotizaci\xf3n"}),(0,p.jsx)("p",{className:"text-center text-muted mb-4",children:"Completa el formulario y te enviaremos una cotizaci\xf3n detallada a la brevedad."}),a&&(0,p.jsx)(i.A,{variant:"success",children:a}),A&&(0,p.jsx)(i.A,{variant:"danger",children:A}),(0,p.jsxs)(d.A,{noValidate:!0,validated:b,onSubmit:async a=>{const n=a.currentTarget;if(a.preventDefault(),a.stopPropagation(),!1===n.checkValidity())return f(!0),void g("Por favor, completa todos los campos obligatorios.");j(null),g(null),f(!1);try{const a=await fetch("http://localhost:5000/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await a.json();if(!a.ok)throw new Error(n.message||"Error al enviar la cotizaci\xf3n");j("\xa1Cotizaci\xf3n enviada exitosamente! Nos pondremos en contacto contigo pronto."),r({name:"",rut:"",phone:"",address:"",email:"",fenceHeight:"1.50m",fenceType:"Cerco Vibrado Est\xe1ndar",linearMeters:"",message:""}),f(!1)}catch(A){g(A.message)}},children:[(0,p.jsxs)(l.A,{children:[(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formName",children:[(0,p.jsx)(d.A.Label,{children:"Nombre Completo"}),(0,p.jsx)(d.A.Control,{type:"text",name:"name",value:e.name,onChange:v,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu nombre completo."})]})}),(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formRut",children:[(0,p.jsx)(d.A.Label,{children:"RUT"}),(0,p.jsx)(d.A.Control,{type:"text",name:"rut",value:e.rut,onChange:v,required:!0,pattern:"^[0-9]{1,2}\\.[0-9]{3}\\.[0-9]{3}-[0-9kK]{1}$"}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa un RUT v\xe1lido (ej. 12.345.678-9)."})]})})]}),(0,p.jsxs)(l.A,{children:[(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formPhone",children:[(0,p.jsx)(d.A.Label,{children:"N\xfamero de Tel\xe9fono"}),(0,p.jsx)(d.A.Control,{type:"tel",name:"phone",value:e.phone,onChange:v,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu n\xfamero de tel\xe9fono."})]})}),(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formEmail",children:[(0,p.jsx)(d.A.Label,{children:"Correo Electr\xf3nico"}),(0,p.jsx)(d.A.Control,{type:"email",name:"email",value:e.email,onChange:v,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa un correo electr\xf3nico v\xe1lido."})]})})]}),(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formAddress",children:[(0,p.jsx)(d.A.Label,{children:"Direcci\xf3n / Comuna"}),(0,p.jsx)(d.A.Control,{type:"text",name:"address",value:e.address,onChange:v,required:!0}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu direcci\xf3n o comuna."})]}),(0,p.jsxs)(l.A,{children:[(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formFenceHeight",children:[(0,p.jsx)(d.A.Label,{children:"Altura del Cerco"}),(0,p.jsxs)(d.A.Select,{name:"fenceHeight",value:e.fenceHeight,onChange:v,required:!0,children:[(0,p.jsx)("option",{value:"",children:"Selecciona una altura"}),(0,p.jsx)("option",{children:"1.50m"}),(0,p.jsx)("option",{children:"1.90m"}),(0,p.jsx)("option",{children:"2.20m"}),(0,p.jsx)("option",{children:"Otra"})]}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, selecciona la altura del cerco."})]})}),(0,p.jsx)(t.A,{md:6,children:(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formLinearMeters",children:[(0,p.jsx)(d.A.Label,{children:"Metros Lineales (aprox.)"}),(0,p.jsx)(d.A.Control,{type:"number",name:"linearMeters",value:e.linearMeters,onChange:v,required:!0,min:"1"}),(0,p.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa los metros lineales."})]})})]}),(0,p.jsxs)(d.A.Group,{className:"mb-3",controlId:"formMessage",children:[(0,p.jsx)(d.A.Label,{children:"Mensaje Adicional"}),(0,p.jsx)(d.A.Control,{as:"textarea",name:"message",rows:4,value:e.message,onChange:v,placeholder:"Ind\xedcanos cualquier detalle importante para tu proyecto."})]}),(0,p.jsx)("div",{className:"d-grid",children:(0,p.jsx)(m.A,{variant:"primary",type:"submit",size:"lg",children:"Enviar Cotizaci\xf3n"})})]})]})})})}),(0,p.jsx)(l.A,{className:"justify-content-center mt-5",children:(0,p.jsx)(t.A,{md:8,children:(0,p.jsx)("img",{src:(e=>{switch(e){case"1.50m":default:return h;case"1.90m":return u;case"2.20m":return x}})(e.fenceHeight),alt:"Cerco de referencia",className:"img-fluid rounded shadow-lg"})})})]})})}}}]);
//# sourceMappingURL=206.44a70287.chunk.js.map