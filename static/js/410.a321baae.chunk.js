"use strict";(self.webpackChunkcercovibrados_web=self.webpackChunkcercovibrados_web||[]).push([[410],{410:(e,r,n)=>{n.r(r),n.d(r,{default:()=>u});var a=n(2555),o=n(5043),l=n(3519),s=n(1072),t=n(8602),i=n(8628),c=n(1719),d=n(3814),m=n(4282),h=n(579);const u=()=>{const[e,r]=(0,o.useState)({name:"",rut:"",phone:"",address:"",email:"",fenceHeight:"1.90m",fenceType:"Cerco Vibrado Est\xe1ndar",linearMeters:"",message:""}),[n,u]=(0,o.useState)(null),[x,p]=(0,o.useState)(null),[j,A]=(0,o.useState)(!1),g=e=>{const{name:n,value:o}=e.target;let l=o;"rut"===n&&(l=(e=>{let r=e.replace(/[^0-9kK]/g,"");r=r.toUpperCase();let n="";for(r.length>1&&(n=r.slice(-1),r=r.slice(0,-1));r.length>3;)n="."+r.slice(-3)+n,r=r.slice(0,-3);return r.length>0&&(n=r+n),n.length>0&&e.includes("-")&&(n=n.replace(/\.(?=[0-9]{3}-)/g,""),n=n.replace(/-(?=[0-9]{3})/g,"")),n.length>0&&!n.includes("-")&&(n=n.slice(0,-1)+"-"+n.slice(-1)),n})(o)),r(e=>{const r=(0,a.A)((0,a.A)({},e),{},{[n]:l});return"fenceHeight"===n&&(r.fenceType="Otra"===o?"Cerco Vibrado Personalizado":"Cerco Vibrado ".concat(o)),r})};return(0,h.jsx)("section",{className:"quote-page-section",children:(0,h.jsx)(l.A,{children:(0,h.jsx)(s.A,{className:"justify-content-center",children:(0,h.jsx)(t.A,{md:8,children:(0,h.jsx)(i.A,{className:"quote-card",children:(0,h.jsxs)(i.A.Body,{children:[(0,h.jsx)("h2",{className:"text-center mb-4",children:"Solicita tu Cotizaci\xf3n"}),(0,h.jsx)("p",{className:"text-center text-muted mb-4",children:"Completa el formulario y te enviaremos una cotizaci\xf3n detallada a la brevedad."}),n&&(0,h.jsx)(c.A,{variant:"success",children:n}),x&&(0,h.jsx)(c.A,{variant:"danger",children:x}),(0,h.jsxs)(d.A,{noValidate:!0,validated:j,onSubmit:async n=>{const a=n.currentTarget;if(n.preventDefault(),n.stopPropagation(),!1===a.checkValidity())return A(!0),void p("Por favor, completa todos los campos obligatorios.");u(null),p(null),A(!1);try{const n=await fetch("http://localhost:5000/api/quotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Error al enviar la cotizaci\xf3n");u("\xa1Cotizaci\xf3n enviada exitosamente! Nos pondremos en contacto contigo pronto."),r({name:"",rut:"",phone:"",address:"",email:"",fenceHeight:"1.90m",fenceType:"Cerco Vibrado Est\xe1ndar",linearMeters:"",message:""}),A(!1)}catch(o){p(o.message)}},children:[(0,h.jsxs)(s.A,{children:[(0,h.jsx)(t.A,{md:6,children:(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formName",children:[(0,h.jsx)(d.A.Label,{children:"Nombre Completo"}),(0,h.jsx)(d.A.Control,{type:"text",name:"name",value:e.name,onChange:g,required:!0}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu nombre completo."})]})}),(0,h.jsx)(t.A,{md:6,children:(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formRut",children:[(0,h.jsx)(d.A.Label,{children:"RUT"}),(0,h.jsx)(d.A.Control,{type:"text",name:"rut",value:e.rut,onChange:g,required:!0,pattern:"^[0-9]{1,2}\\.[0-9]{3}\\.[0-9]{3}-[0-9kK]{1}$"}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa un RUT v\xe1lido (ej. 12.345.678-9)."})]})})]}),(0,h.jsxs)(s.A,{children:[(0,h.jsx)(t.A,{md:6,children:(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formPhone",children:[(0,h.jsx)(d.A.Label,{children:"N\xfamero de Tel\xe9fono"}),(0,h.jsx)(d.A.Control,{type:"tel",name:"phone",value:e.phone,onChange:g,required:!0}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu n\xfamero de tel\xe9fono."})]})}),(0,h.jsx)(t.A,{md:6,children:(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formEmail",children:[(0,h.jsx)(d.A.Label,{children:"Correo Electr\xf3nico"}),(0,h.jsx)(d.A.Control,{type:"email",name:"email",value:e.email,onChange:g,required:!0}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa un correo electr\xf3nico v\xe1lido."})]})})]}),(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formAddress",children:[(0,h.jsx)(d.A.Label,{children:"Direcci\xf3n / Comuna"}),(0,h.jsx)(d.A.Control,{type:"text",name:"address",value:e.address,onChange:g,required:!0}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa tu direcci\xf3n o comuna."})]}),(0,h.jsxs)(s.A,{children:[(0,h.jsx)(t.A,{md:6,children:(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formFenceHeight",children:[(0,h.jsx)(d.A.Label,{children:"Altura del Cerco"}),(0,h.jsxs)(d.A.Select,{name:"fenceHeight",value:e.fenceHeight,onChange:g,required:!0,children:[(0,h.jsx)("option",{value:"",children:"Selecciona una altura"}),(0,h.jsx)("option",{children:"1.90m"}),(0,h.jsx)("option",{children:"2.10m"}),(0,h.jsx)("option",{children:"2.40m"}),(0,h.jsx)("option",{children:"Otra"})]}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, selecciona la altura del cerco."})]})}),(0,h.jsx)(t.A,{md:6,children:(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formLinearMeters",children:[(0,h.jsx)(d.A.Label,{children:"Metros Lineales (aprox.)"}),(0,h.jsx)(d.A.Control,{type:"number",name:"linearMeters",value:e.linearMeters,onChange:g,required:!0,min:"1"}),(0,h.jsx)(d.A.Control.Feedback,{type:"invalid",children:"Por favor, ingresa los metros lineales."})]})})]}),(0,h.jsxs)(d.A.Group,{className:"mb-3",controlId:"formMessage",children:[(0,h.jsx)(d.A.Label,{children:"Mensaje Adicional"}),(0,h.jsx)(d.A.Control,{as:"textarea",name:"message",rows:4,value:e.message,onChange:g,placeholder:"Ind\xedcanos cualquier detalle importante para tu proyecto."})]}),(0,h.jsx)("div",{className:"d-grid",children:(0,h.jsx)(m.A,{variant:"primary",type:"submit",size:"lg",children:"Enviar Cotizaci\xf3n"})})]})]})})})})})})}}}]);
//# sourceMappingURL=410.a321baae.chunk.js.map