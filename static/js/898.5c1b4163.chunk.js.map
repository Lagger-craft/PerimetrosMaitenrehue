{"version":3,"file":"static/js/898.5c1b4163.chunk.js","mappings":"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","sources":["../node_modules/react-bootstrap-icons/dist/icons/lock.js","components/auth/AdminLogin.jsx","../node_modules/react-bootstrap-icons/dist/icons/person.js"],"sourcesContent":["var _excluded = [\"color\", \"size\", \"title\", \"className\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Lock = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n    color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? '1em' : _ref$size,\n    _ref$title = _ref.title,\n    title = _ref$title === void 0 ? null : _ref$title,\n    _ref$className = _ref.className,\n    className = _ref$className === void 0 ? '' : _ref$className,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color,\n    className: ['bi', 'bi-lock', className].filter(Boolean).join(' ')\n  }, rest), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4M4.5 7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7zM8 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3\"\n  }));\n});\nLock.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  className: PropTypes.string\n};\nexport default Lock;","import React, { useState, useContext } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { Person, Lock } from 'react-bootstrap-icons';\nimport { Form, Button, Container, Row, Col, Alert } from 'react-bootstrap';\nimport AuthContext from '../../context/AuthContext';\nimport './AuthCommon.css'; // Usar el CSS común para autenticación\n\nconst AdminLogin = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  \n  const { login, logout } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const loggedInUser = await login(username, password); // La función login devuelve el usuario logueado\n      \n      if (loggedInUser && loggedInUser.role === 'admin') {\n        navigate('/administracion/dashboard'); // Redirigir al dashboard de admin\n      } else {\n        // Si el usuario no es admin, o si login no devuelve un usuario (error de credenciales)\n        // logout() para limpiar cualquier token de un usuario no-admin que pudiera haberse guardado\n        // aunque la función login del contexto ya debería manejar esto si el rol no es admin.\n        // Aquí forzamos el error si no es admin.\n        if (loggedInUser) {\n            // Si se logueó como usuario normal, lo deslogueamos y mostramos error\n            await logout(); \n            setError('Acceso denegado: Solo administradores pueden ingresar aquí.');\n        } else {\n            // Si hubo un error de credenciales (login ya lo maneja, pero por seguridad)\n            setError('Credenciales inválidas para administrador.');\n        }\n      }\n    } catch (err) {\n      setError(err.message || 'Error al intentar iniciar sesión como administrador.');\n    }\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <Container>\n        <Row className=\"justify-content-md-center\">\n          <Col md={6} lg={4}>\n            <div className=\"login-form-container\">\n              <h1 className=\"text-center mb-4\">Acceso de Administrador</h1>\n              {error && <Alert variant=\"danger\">{error}</Alert>}\n              <Form onSubmit={handleSubmit}>\n                <Form.Group className=\"mb-3 input-box\" controlId=\"formBasicUsername\">\n                  <Form.Control\n                    type=\"text\"\n                    placeholder=\"Usuario Administrador\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    required\n                  />\n                  <Person className=\"icon\" />\n                </Form.Group>\n\n                <Form.Group className=\"mb-3 input-box\" controlId=\"formBasicPassword\">\n                  <Form.Control\n                    type=\"password\"\n                    placeholder=\"Contraseña\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                  <Lock className=\"icon\" />\n                </Form.Group>\n\n                <Button variant=\"primary\" type=\"submit\" className=\"w-100\">\n                  Ingresar como Administrador\n                </Button>\n\n                <div className=\"login-link mt-3 text-center\">\n                  <p>\n                    <Link to=\"/\">Volver a la página principal</Link>\n                  </p>\n                </div>\n              </Form>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n};\n\nexport default AdminLogin;\n","var _excluded = [\"color\", \"size\", \"title\", \"className\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar Person = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n    color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n    _ref$size = _ref.size,\n    size = _ref$size === void 0 ? '1em' : _ref$size,\n    _ref$title = _ref.title,\n    title = _ref$title === void 0 ? null : _ref$title,\n    _ref$className = _ref.className,\n    className = _ref$className === void 0 ? '' : _ref$className,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 16 16\",\n    width: size,\n    height: size,\n    fill: color,\n    className: ['bi', 'bi-person', className].filter(Boolean).join(' ')\n  }, rest), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z\"\n  }));\n});\nPerson.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  title: PropTypes.string,\n  className: PropTypes.string\n};\nexport default Person;"],"names":["_excluded","_extends","Object","assign","bind","n","e","arguments","length","t","r","hasOwnProperty","call","apply","Lock","forwardRef","_ref","ref","_ref$color","color","_ref$size","size","_ref$title","title","_ref$className","className","rest","o","i","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","propertyIsEnumerable","_objectWithoutProperties","React","xmlns","viewBox","width","height","fill","filter","Boolean","join","fillRule","d","propTypes","PropTypes","AdminLogin","username","setUsername","useState","password","setPassword","error","setError","login","logout","useContext","AuthContext","navigate","useNavigate","_jsx","children","Container","Row","Col","md","lg","_jsxs","Alert","variant","Form","onSubmit","async","preventDefault","loggedInUser","role","err","message","Group","controlId","Control","type","placeholder","value","onChange","target","required","Person","Button","Link","to"],"sourceRoot":""}